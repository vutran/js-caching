/*! js-caching 2013-10-27 

 @author Vu Tran 
 @link <http://vu-tran.com> 
 @package js-caching 
 @license BSD 
*/
var cache=function(a){"use strict";var b,c,d,e=22,f=900,g="localStorage",h=!1,i=function(){var e=new Date;d=e.getTime(),b=a.get("_cacheTimeout"),c=e,b||(b=d+f,c=new Date(b),a.set("_cacheTimeout",b),a.set("_cacheTimeoutString",c));var g=(d-b)/1e3;g>f&&a.reset()},j=function(){switch(g="localStorage"){case"localStorage":window.localStorage||(g="js");break;case"sessionStorage":window.sessionStorage||(g="js")}k()},k=function(){switch(g){case"localStorage":case"sessionStorage":i();break;case"js":h=[];break;default:h=[]}};return a.set=function(a,b){var c={type:typeof b,value:b},d=JSON.stringify(c);switch(g){case"localStorage":try{localStorage.setItem(a,d)}catch(f){switch(f.code){case e:cache.reset(),localStorage.setItem(a,d)}}break;case"sessionStorage":try{sessionStorage.setItem(a,d)}catch(f){switch(f.code){case e:cache.reset(),sessionStorage.setItem(a,d)}}break;case"js":h[a]=d;break;default:h[a]=d}},a.get=function(a){var b=!1,c=!1;switch(g){case"localStorage":b=localStorage.getItem(a);break;case"sessionStorage":b=sessionStorage.getItem(a);break;case"js":b=h[a];break;default:b=h[a]}if(b){var d=JSON.parse(b);c=d.value}return c},a.reset=function(){switch(g){case"localStorage":localStorage.clear();break;case"sessionStorage":sessionStorage.clear();break;case"js":h=[];break;default:h=[]}return!0},j(),"undefined"!=typeof module&&module.exports&&(module.exports=a),"function"==typeof define&&define.amd&&define(a),a}(cache||{});